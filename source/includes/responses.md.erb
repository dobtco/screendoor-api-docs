# Responses

## List a project's responses

Returns a list of responses to a specified project.

```shell
curl https://screendoor.dobt.co/api/projects/2/responses?v=0&api_key=d9763djh1274

# Example Response
[
  <%= partial 'resources/response.json' %>
]
```

### HTTP Request

`GET /projects/:project_id/responses`

## Create a response

Creates a response to the specified project.

```shell
curl https://screendoor.dobt.co/api/projects/2/responses?v=0&api_key=d9763djh1274 \
  -H 'Content-Type: application/json' \
  -X POST \
  -d '
{
  "response_fields": {
    "1": "Vivian Cronin",
    "2": "emmanuelle@goyette.co.uk",
    "3": "New application for your job on Startuply",
    "4": "To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen filter it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.\n"
  },
  "skip_email_confirmation": true,
  "skip_notifications": true,
  "skip_validation": true,
  "status": "Starred",
  "labels": ["Great", "Needs more information"]
}
'

# Example Response
<%= partial 'resources/response.json' %>
```

### HTTP Request

`POST /projects/:project_id/responses`

### Options

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| skip_email_confirmation | boolean | false | If `false`, the respondent receives an email confirming submission of the response.  |
| skip_notifications | boolean | false | If `false`, administrators receive notification that the response was submitted. |
| skip_validation | boolean | false | If `false`, validation errors are raised if the response is invalid. |
| status | string | *set inside Screendoor* | The only possible values are statutes set within the Screendoor project. |
| labels | array | [] | Possible values in the array: label names already used in the project and new labels names. |

### RESPONSE FIELD INPUTS

In a `Response` hash, field inputs reside in a key-value pair whose key is `responses`. The value is a hash, within which are the individual field inputs, as laid out below:

| Input | Format | Notes |
| --- | --- | --- |
| Text | `"35": "foo"` | |
| Paragraph | `"36": "All she wanted was everything: To see every form, read every response, to ask every question; to understand advanced evaluation, to understand project teams."` | |
| Checkboxes | `"37": { "0": "on", "1": false }` | If an option is selected, the value is `"0"`. If an option is left unselected, the value is `false`.  |
| Multiple Choice | `"38": "Choice #1"` | |
| Dropdown | `"39": "Choice #2"` | If the blank option is selected, the value is `""`.|
| Date | `"40": { "month": "2", "day": "15", "year": "2015"}` | |
| Time | `"41": { "am_pm": "PM", "hours": "6", "minutes": "01", "seconds": "30"}` | |
| Phone | `"42": "4151234567"` | |
| Email | `"43": "foo@bar.com"` | |
| Address | `"44": { "country": "United States", "street": "123 Main St.", "city": "Pleasantville", "state": "Illinois"}` | |
| Table | `"45": { "0": ["first row", "1"], "1": ["second row", "2"]}` | |
| Numeric | `"46": "123"` | |
| Website | `"47": "http://www.google.com"` | |
| Price | `"48": { "dollars": "12", "cents": "99"}` | |
| File | | |
| Map Marker | `"50": { "lat": "40.7700118", "lng": "-73.9800453"}` | |

## Retrieve a single response

Retrieves a response with the given `:response_id`.

```shell
curl https://screendoor.dobt.co/api/projects/2/responses/3?v=0&api_key=d9763djh1274

# Example Response
<%= partial 'resources/response.json' %>
```

### HTTP Request

`GET /projects/:project_id/responses/:response_id`

### Query Parameters

| Parameter | Default | Description |
| --- | --- | --- |
| response_format | raw | `raw`, `text`, or `html` |

## Update a response

Updates the specified response.

```shell
curl https://screendoor.dobt.co/api/projects/2/responses/2?v=0&api_key=d9763djh1274 \
  -H 'Content-Type: application/json' \
  -X PUT \
  -d '
{
  "response_fields": {
    "1": "Veronica Cronin"
  },
  "status": "Accepted"
}
'

# Example Response
<%= partial 'resources/response.json' %>
```

### HTTP Request

`PUT /projects/:project_id/responses/:response_id`

### Options

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| force_validation | boolean | false | If `false`, validations errors are raised if the response is invalid. |
| status | string | *set inside Screendoor* | The only possible values are statutes set within the Screendoor project.  |
| labels | array | [] | Possible values in the array: label names already used in the project and new label names. |

## Delete a response

Deletes a response with the given `:response_id`.

```shell
curl https://screendoor.dobt.co/api/projects/2/responses/3?v=0&api_key=d9763djh1274 \
  -H 'Content-Type: application/json' \
  -X DELETE

# Example Response
Status: 204 No Content
```

### HTTP Request

`DELETE /projects/:project_id/responses/:response_id`
