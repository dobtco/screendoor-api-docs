<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_responses">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" />
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="responses">Responses</h1>

<h2 id="list-a-project&#39;s-responses">List a project&rsquo;s responses</h2>

<p>Returns a list of responses to a specified project.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/projects/2/responses?v<span class="o">=</span>0&amp;api_key<span class="o">=</span>d9763djh1274

<span class="c"># Example Response</span>
<span class="o">[</span>
  <span class="o">{</span>
  <span class="s2">"id"</span>: 3,
  <span class="s2">"sequential_id"</span>: 3,
  <span class="s2">"project_id"</span>: 2,
  <span class="s2">"pretty_id"</span>: <span class="s2">"ykylz0kz"</span>,
  <span class="s2">"submitted_at"</span>: <span class="s2">"2014-05-07T19:19:43.230Z"</span>,
  <span class="s2">"responses"</span>: <span class="o">{</span>
      <span class="s2">"1"</span>: <span class="s2">"Vivian Cronin"</span>,
      <span class="s2">"2"</span>: <span class="s2">"emmanuelle@goyette.co.uk"</span>,
      <span class="s2">"3"</span>: <span class="s2">"New application for your job on Startuply"</span>,
      <span class="s2">"4"</span>: <span class="s2">"To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.</span><span class="se">\n</span><span class="s2">"</span>,
      <span class="s2">"5"</span>: <span class="s2">"3"</span>
  <span class="o">}</span>,
  <span class="s2">"rating_aggregates"</span>: <span class="o">{}</span>,
  <span class="s2">"average_rating"</span>: null,
  <span class="s2">"num_ratings"</span>: 0,
  <span class="s2">"created_at"</span>: <span class="s2">"2014-05-07T19:19:43.280Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2014-05-07T19:20:51.485Z"</span>,
  <span class="s2">"status"</span>: <span class="s2">"Starred"</span>,
  <span class="s2">"labels"</span>: <span class="o">[]</span>,
  <span class="s2">"user"</span>: null,
  <span class="s2">"assigned_to_user"</span>: null
<span class="o">}</span>

<span class="o">]</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /projects/:project_id/responses</code></p>

<h2 id="create-a-response">Create a response</h2>

<p>Creates a response to the specified project.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/projects/2/responses?v<span class="o">=</span>0&amp;api_key<span class="o">=</span>d9763djh1274 <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'
{
  "response_fields": {
    "1": "Vivian Cronin",
    "2": "emmanuelle@goyette.co.uk",
    "3": "New application for your job on Startuply",
    "4": "To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.\n"
  },
  "skip_email_confirmation": true,
  "skip_notifications": true,
  "skip_validation": true,
  "status": "Starred",
  "labels": ["Great", "Needs more information"]
}
'</span>

<span class="c"># Example Response</span>
<span class="o">{</span>
  <span class="s2">"id"</span>: 3,
  <span class="s2">"sequential_id"</span>: 3,
  <span class="s2">"project_id"</span>: 2,
  <span class="s2">"pretty_id"</span>: <span class="s2">"ykylz0kz"</span>,
  <span class="s2">"submitted_at"</span>: <span class="s2">"2014-05-07T19:19:43.230Z"</span>,
  <span class="s2">"responses"</span>: <span class="o">{</span>
      <span class="s2">"1"</span>: <span class="s2">"Vivian Cronin"</span>,
      <span class="s2">"2"</span>: <span class="s2">"emmanuelle@goyette.co.uk"</span>,
      <span class="s2">"3"</span>: <span class="s2">"New application for your job on Startuply"</span>,
      <span class="s2">"4"</span>: <span class="s2">"To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.</span><span class="se">\n</span><span class="s2">"</span>,
      <span class="s2">"5"</span>: <span class="s2">"3"</span>
  <span class="o">}</span>,
  <span class="s2">"rating_aggregates"</span>: <span class="o">{}</span>,
  <span class="s2">"average_rating"</span>: null,
  <span class="s2">"num_ratings"</span>: 0,
  <span class="s2">"created_at"</span>: <span class="s2">"2014-05-07T19:19:43.280Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2014-05-07T19:20:51.485Z"</span>,
  <span class="s2">"status"</span>: <span class="s2">"Starred"</span>,
  <span class="s2">"labels"</span>: <span class="o">[]</span>,
  <span class="s2">"user"</span>: null,
  <span class="s2">"assigned_to_user"</span>: null
<span class="o">}</span>

</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /projects/:project_id/responses</code></p>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_fields</td>
<td>hash</td>
<td>{}</td>
<td>See <a href="#spec-for-the-response-hash">the spec</a> below</td>
</tr>
<tr>
<td>skip_email_confirmation</td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">false</code>, the respondent receives an email confirming submission of the response.</td>
</tr>
<tr>
<td>skip_notifications</td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">false</code>, administrators receive notification that the response was submitted.</td>
</tr>
<tr>
<td>skip_validation</td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">false</code>, validation errors are raised if the response is invalid.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td><em>set inside Screendoor</em></td>
<td>The only possible values are statutes set within the Screendoor project.</td>
</tr>
<tr>
<td>labels</td>
<td>array</td>
<td>[]</td>
<td>Possible values in the array: label names already used in the project and new labels names.</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-single-response">Retrieve a single response</h2>

<p>Retrieves a response with the given <code class="prettyprint">:response_id</code>.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/projects/2/responses/3?v<span class="o">=</span>0&amp;api_key<span class="o">=</span>d9763djh1274

<span class="c"># Example Response</span>
<span class="o">{</span>
  <span class="s2">"id"</span>: 3,
  <span class="s2">"sequential_id"</span>: 3,
  <span class="s2">"project_id"</span>: 2,
  <span class="s2">"pretty_id"</span>: <span class="s2">"ykylz0kz"</span>,
  <span class="s2">"submitted_at"</span>: <span class="s2">"2014-05-07T19:19:43.230Z"</span>,
  <span class="s2">"responses"</span>: <span class="o">{</span>
      <span class="s2">"1"</span>: <span class="s2">"Vivian Cronin"</span>,
      <span class="s2">"2"</span>: <span class="s2">"emmanuelle@goyette.co.uk"</span>,
      <span class="s2">"3"</span>: <span class="s2">"New application for your job on Startuply"</span>,
      <span class="s2">"4"</span>: <span class="s2">"To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.</span><span class="se">\n</span><span class="s2">"</span>,
      <span class="s2">"5"</span>: <span class="s2">"3"</span>
  <span class="o">}</span>,
  <span class="s2">"rating_aggregates"</span>: <span class="o">{}</span>,
  <span class="s2">"average_rating"</span>: null,
  <span class="s2">"num_ratings"</span>: 0,
  <span class="s2">"created_at"</span>: <span class="s2">"2014-05-07T19:19:43.280Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2014-05-07T19:20:51.485Z"</span>,
  <span class="s2">"status"</span>: <span class="s2">"Starred"</span>,
  <span class="s2">"labels"</span>: <span class="o">[]</span>,
  <span class="s2">"user"</span>: null,
  <span class="s2">"assigned_to_user"</span>: null
<span class="o">}</span>

</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /projects/:project_id/responses/:response_id</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_format</td>
<td>raw</td>
<td><code class="prettyprint">raw</code>, <code class="prettyprint">text</code>, or <code class="prettyprint">html</code></td>
</tr>
</tbody></table>

<h2 id="update-a-response">Update a response</h2>

<p>Updates the specified response.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/projects/2/responses/2?v<span class="o">=</span>0&amp;api_key<span class="o">=</span>d9763djh1274 <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'
{
  "response_fields": {
    "1": "Veronica Cronin",
    "2": { "0": "on", "1": false }
  },
  "status": "Accepted"
}
'</span>

<span class="c"># Example Response</span>
<span class="o">{</span>
  <span class="s2">"id"</span>: 3,
  <span class="s2">"sequential_id"</span>: 3,
  <span class="s2">"project_id"</span>: 2,
  <span class="s2">"pretty_id"</span>: <span class="s2">"ykylz0kz"</span>,
  <span class="s2">"submitted_at"</span>: <span class="s2">"2014-05-07T19:19:43.230Z"</span>,
  <span class="s2">"responses"</span>: <span class="o">{</span>
      <span class="s2">"1"</span>: <span class="s2">"Vivian Cronin"</span>,
      <span class="s2">"2"</span>: <span class="s2">"emmanuelle@goyette.co.uk"</span>,
      <span class="s2">"3"</span>: <span class="s2">"New application for your job on Startuply"</span>,
      <span class="s2">"4"</span>: <span class="s2">"To Whom it May Concern: I am very interested in working at your company. The widgets you make are AMAZING, and I would love to be a part of it. I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly. Plus, I even know what to do with the options we did not select. Adding me to your team means saving time, saving money and getting back to doing the work you love doing.</span><span class="se">\n</span><span class="s2">"</span>,
      <span class="s2">"5"</span>: <span class="s2">"3"</span>
  <span class="o">}</span>,
  <span class="s2">"rating_aggregates"</span>: <span class="o">{}</span>,
  <span class="s2">"average_rating"</span>: null,
  <span class="s2">"num_ratings"</span>: 0,
  <span class="s2">"created_at"</span>: <span class="s2">"2014-05-07T19:19:43.280Z"</span>,
  <span class="s2">"updated_at"</span>: <span class="s2">"2014-05-07T19:20:51.485Z"</span>,
  <span class="s2">"status"</span>: <span class="s2">"Starred"</span>,
  <span class="s2">"labels"</span>: <span class="o">[]</span>,
  <span class="s2">"user"</span>: null,
  <span class="s2">"assigned_to_user"</span>: null
<span class="o">}</span>

</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /projects/:project_id/responses/:response_id</code></p>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_fields</td>
<td>hash</td>
<td>{}</td>
<td>See <a href="#spec-for-the-response-hash">the spec</a> below</td>
</tr>
<tr>
<td>force_validation</td>
<td>boolean</td>
<td>false</td>
<td>If <code class="prettyprint">false</code>, validations errors are raised if the response is invalid.</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td><em>set inside Screendoor</em></td>
<td>The only possible values are statutes set within the Screendoor project.</td>
</tr>
<tr>
<td>labels</td>
<td>array</td>
<td>[]</td>
<td>Possible values in the array: label names already used in the project and new label names.</td>
</tr>
</tbody></table>

<h2 id="delete-a-response">Delete a response</h2>

<p>Deletes a response with the given <code class="prettyprint">:response_id</code>.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/projects/2/responses/3?v<span class="o">=</span>0&amp;api_key<span class="o">=</span>d9763djh1274 <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X DELETE

<span class="c"># Example Response</span>
Status: 204 No Content
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /projects/:project_id/responses/:response_id</code></p>

<h2 id="spec-for-the-response-hash">Spec for the response hash</h2>

<p>In order to encode a response to a Screendoor form, you must use the format defined below. In each key-value pair, the key is the ID of your response field, and the value depends on the type of that field. See <a href="#update-a-response">an example</a> of a complete payload above.</p>

<table><thead>
<tr>
<th>Field type</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td>Text</td>
<td><code class="prettyprint">&quot;foo&quot;</code></td>
</tr>
<tr>
<td>Paragraph</td>
<td><code class="prettyprint">&quot;I have many skills, but the most important ones are my abilities to collect information from people, screen it effectively, select the right options, and follow through with the right options quickly.&quot;</code></td>
</tr>
<tr>
<td>Checkboxes</td>
<td><code class="prettyprint">{ &quot;0&quot;: &quot;on&quot;, &quot;1&quot;: false }</code> <br><br>or with &ldquo;other&rdquo; selected:<br><br> <code class="prettyprint">{ &quot;0&quot;: false, &quot;1&quot;: &quot;on&quot;, &quot;other_checkbox&quot;: &quot;on&quot;, &quot;other&quot;: &quot;Something else&quot; }</code></td>
</tr>
<tr>
<td>Multiple Choice</td>
<td><code class="prettyprint">&quot;Choice #1&quot;</code></td>
</tr>
<tr>
<td>Dropdown</td>
<td><code class="prettyprint">&quot;Choice #2&quot;</code></td>
</tr>
<tr>
<td>Date</td>
<td><code class="prettyprint">{ &quot;month&quot;: &quot;2&quot;, &quot;day&quot;: &quot;15&quot;, &quot;year&quot;: &quot;2015&quot;}</code></td>
</tr>
<tr>
<td>Time</td>
<td><code class="prettyprint">{ &quot;am_pm&quot;: &quot;PM&quot;, &quot;hours&quot;: &quot;6&quot;, &quot;minutes&quot;: &quot;01&quot;, &quot;seconds&quot;: &quot;30&quot;}</code></td>
</tr>
<tr>
<td>Phone</td>
<td><code class="prettyprint">&quot;4151234567&quot;</code></td>
</tr>
<tr>
<td>Email</td>
<td><code class="prettyprint">&quot;foo@bar.com&quot;</code></td>
</tr>
<tr>
<td>Address</td>
<td><code class="prettyprint">{ &quot;country&quot;: &quot;US&quot;, &quot;street&quot;: &quot;123 Main St.&quot;, &quot;city&quot;: &quot;Pleasantville&quot;, &quot;state&quot;: &quot;Illinois&quot; }</code></td>
</tr>
<tr>
<td>Table</td>
<td><code class="prettyprint">{ &quot;0&quot;: [&quot;col 1 row 1&quot;, &quot;col 1 row 2&quot;], &quot;1&quot;: [&quot;col 2 row 1&quot;, &quot;col 2 row 2&quot;] }</code></td>
</tr>
<tr>
<td>Numeric</td>
<td><code class="prettyprint">&quot;123.45&quot;</code></td>
</tr>
<tr>
<td>Website</td>
<td><code class="prettyprint">&quot;http://www.google.com&quot;</code></td>
</tr>
<tr>
<td>Price</td>
<td><code class="prettyprint">{ &quot;dollars&quot;: &quot;12&quot;, &quot;cents&quot;: &quot;99&quot; }</code></td>
</tr>
<tr>
<td>File</td>
<td><code class="prettyprint">&quot;b42Unp-Oj_qeyCWNDaTBXr8nygNq5x4-&quot;</code><br><br>To get this ID, first upload a file using the endpoint described <a href="#uploading-files">below</a>.</td>
</tr>
<tr>
<td>Map Marker</td>
<td><code class="prettyprint">{ &quot;lat&quot;: &quot;40.7700118&quot;, &quot;lng&quot;: &quot;-73.9800453&quot; }</code></td>
</tr>
</tbody></table>

<h2 id="uploading-files">Uploading files</h2>

<p>In order to include a file in the <a href="#spec-for-the-response-hash">response fields hash</a>, you must first upload it using the following endpoint.</p>
<pre><code class="highlight shell">curl https://screendoor.dobt.co/api/form_renderer/file?v<span class="o">=</span>0&amp;response_field_id<span class="o">=</span>123 <span class="se">\</span>
  -X POST <span class="se">\</span>
  -F <span class="s2">"file=@/path/to/file"</span>

<span class="c"># Example Response</span>
<span class="o">{</span><span class="s2">"ok"</span>:true,<span class="s2">"file_id"</span>:<span class="s2">"b42Unp-Oj_qeyCWNDaTBXr8nygNq5x4-"</span><span class="o">}</span>
</code></pre>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
